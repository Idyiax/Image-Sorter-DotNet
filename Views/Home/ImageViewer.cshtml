<style>
    h1 {
        font-size: 16px;
        margin-bottom: 0;
    }
</style>

<div class="container w-100 h-100 mw-100 mh-100 p-0">
    <div class="container h-100 bg-colour-dark opacity-75 rounded-2 float-start p-0" style="width: 20%">
        <div class="d-flex align-items-center p-1">
            <h1 id="image-name" class="text-white fw-bold gap-1"> <!-- Image Name Inserted Here--> </h1>
            <svg width="16px" height="16px" style="fill: white;">
                <path d="M9.97401 3.19292C10.3645 2.80239 10.9977 2.80239 11.3882 3.19292L12.8024 4.60713C13.193 4.99766 13.193 5.63082 12.8024 6.02134L11.7418 7.082L8.91335 4.25358L9.97401 3.19292Z"></path>
                <path d="M8.20624 4.96068L3.61005 9.55688L3.05003 12.357C2.98005 12.7068 3.28851 13.0153 3.63838 12.9453L6.43847 12.3853L11.0347 7.78911L8.20624 4.96068Z"></path>
            </svg>
        </div>
    </div>

    <div class="containter h-100 w-100 d-flex justify-content-center align-items-center position-absolute" style="max-height: calc(100vh - 57px - 16px)">

        <img id="main-image" class="object-fit-contain mh-100" src="" style="max-width: 50%"/>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', async () => {
        // Get the ID from the URL
        const urlParams = new URLSearchParams(window.location.search);
        const id = parseInt(urlParams.get('id') || urlParams.get('id') || '0');
        
        try {
            const response = await fetch(`/api/data/${id}`);
            const image = await response.json();

            console.log(image);
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }

            // Update the page with the image data
            const imageElement = document.getElementById('main-image');
            imageElement.src = image.filePathName;
            imageElement.alt = image.fileName;

            const imageName = document.getElementById('image-name');
            imageName.innerText = image.fileName;
        } 
        
        catch (error) {
            console.error('Error fetching image:', error);
        }
    });
</script>